<script setup>
import { ref, onMounted } from "vue";
import OnboardingSlider from "@/components/base/OnboardingSlider.vue";
import { getAuth } from "@/utils/data";

// Состояние для анимации
const isPulsing = ref(false);
const authLoaded = ref(false);

onMounted(async () => {
  // Запускаем пульсацию через 100ms после монтирования
  setTimeout(() => {
    isPulsing.value = true;
  }, 100);

  // // Выполняем авторизацию
  // await getAuth();
});
</script>

<template>
  <main class="main_loading">
    <div class="logo-container" :class="{ 'is-pulsing': isPulsing }">
      <svg viewBox="0 0 350 80" fill="none">
        <path
          d="M19.7903 11.399L69.001 39.7639L60.8009 44.4856L48.8307 37.5882V51.383L39.7255 56.6298V32.3413L28.8904 26.0941V62.867L19.7903 68.1138V48.677L9.10511 42.5149V74.271L0 79.5178V0L9.10011 5.24184V32.1963L19.7903 38.3584V11.399Z"
          fill="#B5A4FF"
        />
        <path
          d="M149.217 59.4708H155.277V27.1145H149.217V59.4708ZM133.372 32.5964H107.751V12.8295H101.496V59.4758H107.751V38.0784H133.372V59.4758H139.627V12.8295H133.372V32.6014V32.5964ZM152.282 14.4001C151.152 14.4001 150.172 14.7902 149.347 15.5755C148.567 16.3557 148.177 17.3161 148.177 18.4465C148.177 19.5769 148.567 20.5372 149.347 21.3175C150.177 22.0577 151.152 22.4279 152.282 22.4279C153.412 22.4279 154.367 22.0577 155.152 21.3175C155.932 20.5372 156.322 19.5769 156.322 18.4465C156.322 17.3161 155.932 16.3557 155.152 15.5755C154.372 14.7952 153.412 14.4001 152.282 14.4001ZM190.913 27.1145V32.8265C190.573 32.1813 190.183 31.5811 189.738 31.0309C188.438 29.3753 186.828 28.1349 184.918 27.3096C183.052 26.4843 181.007 26.0691 178.792 26.0691C175.747 26.0691 172.987 26.8094 170.512 28.2849C168.082 29.7204 166.122 31.7211 164.647 34.287C163.217 36.8079 162.497 39.7639 162.497 43.0251C162.497 46.2862 163.212 49.2022 164.647 51.7681C166.082 54.289 168.032 56.2697 170.512 57.7052C173.032 59.0957 175.857 59.796 178.987 59.796C181.812 59.796 184.293 59.2108 186.418 58.0353C188.278 56.995 189.753 55.6495 190.848 53.9989V62.1468C190.848 65.4629 188.163 68.1489 184.848 68.1489H169.152V74.0209H185.913C191.988 74.0209 196.913 69.0942 196.913 63.0171V27.1145H190.913ZM190.848 47.5417C190.533 48.392 190.098 49.1972 189.548 49.9475C188.503 51.383 187.163 52.5134 185.507 53.3387C183.857 54.164 182.027 54.5791 180.032 54.5791C177.772 54.5791 175.797 54.104 174.102 53.1436C172.447 52.1433 171.147 50.7728 170.192 49.0322C169.282 47.2916 168.827 45.2459 168.827 43.0301C168.827 40.8143 169.282 38.8336 170.192 37.093C171.102 35.3074 172.387 33.8969 174.037 32.8515C175.732 31.8062 177.642 31.286 179.772 31.286C181.727 31.286 183.528 31.7861 185.178 32.7865C186.873 33.7418 188.243 35.1573 189.283 37.028C190.328 38.8986 190.848 41.2245 190.848 44.0104V47.5417ZM322.365 34.297C320.974 31.7311 319.039 29.7304 316.559 28.2949C314.124 26.8144 311.409 26.0791 308.149 26.0791C304.889 26.0791 301.954 26.8194 299.349 28.2949C296.744 29.7754 294.699 31.8212 293.224 34.4271C291.749 36.998 291.009 39.954 291.009 43.3002C291.009 46.6464 291.774 49.6274 293.294 52.2383C294.854 54.8042 297.004 56.8249 299.744 58.3054C302.479 59.781 305.609 60.5212 309.129 60.5212C312.214 60.5212 314.974 59.936 317.409 58.7606C319.889 57.5902 321.969 55.9546 323.665 53.8689L319.889 49.9575C317.154 53.6088 313.634 55.4344 309.334 55.4344C306.989 55.4344 304.904 54.9343 303.079 53.9339C301.254 52.9336 299.819 51.5231 298.779 49.6924C298.074 48.377 297.624 46.9164 297.414 45.3209H324.515V43.5003V43.1101C324.515 39.7639 323.795 36.8229 322.36 34.302L322.365 34.297ZM297.444 40.8143C297.649 39.3738 298.044 38.0683 298.644 36.9029C299.554 35.0773 300.834 33.6668 302.489 32.6615C304.139 31.6611 306.029 31.1609 308.159 31.1609C310.154 31.1609 311.919 31.6611 313.439 32.6615C315.004 33.6218 316.219 34.9873 317.089 36.7729C317.689 37.9733 318.079 39.3238 318.264 40.8093H297.444V40.8143ZM343.875 54.3891C342.79 54.3891 341.965 54.109 341.395 53.5388C340.83 52.9286 340.545 52.0783 340.545 50.9929V32.2063H349.54V27.1195H340.545V17.9813H334.485V27.1195H328.16V32.2063H334.485V51.7731C334.485 54.254 335.135 56.1647 336.44 57.5152C337.79 58.8156 339.72 59.4708 342.245 59.4708H350V54.3891H343.875ZM276.929 50.4227L251.439 12.8295H244.723V59.4758H250.788V21.9677L276.274 59.4708H282.989V12.8295H276.929V50.4227ZM223.088 26.0741C221.213 26.0741 219.413 26.4243 217.673 27.1195C215.933 27.8148 214.438 28.9702 213.173 30.5757C212.523 31.411 211.983 32.4114 211.543 33.5818V12.5044H205.483V59.4708H211.543V44.5306C211.543 41.4395 212.018 38.9186 212.978 36.963C213.933 35.0073 215.193 33.5718 216.758 32.6565C218.328 31.7461 219.973 31.286 221.713 31.286C224.148 31.286 226.083 32.0913 227.518 33.6968C228.953 35.2624 229.673 37.6332 229.673 40.8043V59.4608H235.733V40.1541C235.733 35.5875 234.603 32.1113 232.348 29.7154C230.083 27.2796 227.003 26.0641 223.088 26.0641V26.0741Z"
          fill="#FAFAFC"
        />
      </svg>
    </div>
    <!-- <OnboardingSlider v-if="authLoaded" /> -->
  </main>
</template>

<style scoped>
.main_loading {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100dvh;
  width: 100%;
  margin: 0;
  padding: 0;
  background: var(--color-dark);
}

.logo-container {
  width: 80%;
  max-width: 350px;
  transition: all 0.3s ease;
  display: grid;
  place-items: center;
}

.logo-container svg {
  width: 70%;
  height: auto;
  filter: drop-shadow(0 0 10px rgba(181, 164, 255, 0.3));
}

.logo-container.is-pulsing {
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0% {
    transform: scale(1);
    filter: drop-shadow(0 0 10px rgba(181, 164, 255, 0.3));
  }
  50% {
    transform: scale(1.05);
    filter: drop-shadow(0 0 20px rgba(181, 164, 255, 0.5));
  }
  100% {
    transform: scale(1);
    filter: drop-shadow(0 0 10px rgba(181, 164, 255, 0.3));
  }
}
</style>
